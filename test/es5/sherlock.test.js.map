{"version":3,"sources":["../sherlock.test.es6"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;oBACI,MAAM;;;;8BACI,kBAAkB;;;;qBAC3B,OAAO;;;;oBACR,MAAM;;;;wBACH,UAAU;;;;2BACT,oBAAoB;;;;AAEzC,SAAS,GAAG,CAAC,CAAC,EAAE;AACf,QAAO,kBAAK,OAAO,CAAE,SAAS,EAAE,EAAE,GAAG,CAAC,CAAE,CAAA;CACxC;;AAED,kBAAK,GAAG,6BAAkB,CAAA;AAC1B,IAAI,MAAM,GAAG,kBAAK,MAAM,CAAA;AACxB,IAAI,MAAM,GAAG,kBAAK,MAAM,EAAE,CAAA;;AAG1B,QAAQ,UAAW,YAAM;;AAExB,KAAI,QAAQ,CAAA;;AAEZ,OAAM,CAAE,UAAA,IAAI,EAAI;;AAEf,UAAQ,GAAG,8BAAU;AACpB,UAAO,eAAe;AACtB,qBAAkB,EAAE,EAAE;AACtB,oBAAiB,EAAE,EAAE;AACrB,iBAAc,EAAE,EAAE;AAClB,gBAAa,EAAE,GAAG;AAClB,iBAAc,EAAE,EAAE;AAClB,cAAW,EAAE,EAAE;AACf,aAAU,EAAE,GAAG;AACf,iBAAc,EAAE,KAAK;GACrB,CAAE,CAAA;;AAEH,UAAQ,CAAC,MAAM,CAAC,IAAI,CAAE;UAAM,IAAI,EAAE;GAAA,CACjC,CAAA;EAED,CAAE,CAAA;;AAEH,MAAK,CAAE,UAAA,IAAI,EAAI;AACd,UAAQ,CAAC,KAAK,EAAE,CAAA;AAChB,MAAI,EAAE,CAAA;EACN,CAAE,CAAA;;AAEH,GAAE,oBAAqB,YAAM;;AAE5B,QAAM,CAAE,QAAQ,CAAC,SAAS,EAAE,CAAE,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,cAAW,CAAC,KAAK,CAAC,CAAA;EACjE,CAAE,CAAA;CAEH,CAAE,CAAA","file":"sherlock.test.js","sourcesContent":["\"use strict\";\nimport Chai from 'chai'\nimport ChaiAsPromised from 'chai-as-promised'\nimport Redis from 'redis'\nimport path from 'path'\nimport Promise from 'bluebird'\nimport Sherlock from '../../lib/sherlock'\n\nfunction rel(p) {\n\treturn path.resolve( __dirname, '' + p )\n}\n\nChai.use( ChaiAsPromised )\nvar expect = Chai.expect\nvar should = Chai.should()\n\n\ndescribe( `Lewis`, () => {\n\n\tvar sherlock\n\n\tbefore( done => {\n\n\t\tsherlock = Sherlock( {\n\t\t\tlockKey: `my-lock-key`,\n\t\t\tlockTimeoutWarning: 15,\n\t\t\tmaxLockExpiration: 30,\n\t\t\tmaxNumAttempts: 10,\n\t\t\tminRetryDelay: 250,\n\t\t\tlockExpiration: 40,\n\t\t\tnumAttempts: 10,\n\t\t\tretryDelay: 250,\n\t\t\tretryRandomize: false\n\t\t} )\n\n\t\tsherlock.loader.then( () => done()\n\t\t)\n\n\t} )\n\n\tafter( done => {\n\t\tsherlock.close()\n\t\tdone()\n\t} )\n\n\tit( `should be alive`, () => {\n\n\t\texpect( sherlock.checkLock() ).to.eventually.be.instanceof(Array)\n\t} )\n\n} )"]}